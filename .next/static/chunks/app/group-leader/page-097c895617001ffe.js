(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92],{57135:(e,t,a)=>{"use strict";a.d(t,{default:()=>D});var r=a(95155),s=a(12115),n=a(86948),l=a(13406),i=a(3998),d=a(65142),o=a(76444),c=a(11186),m=a(64269);let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,m.cn)("w-full caption-bottom text-sm",a),...s})})});h.displayName="Table";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("thead",{ref:t,className:(0,m.cn)("[&_tr]:border-b",a),...s})});u.displayName="TableHeader";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,m.cn)("[&_tr:last-child]:border-0",a),...s})});p.displayName="TableBody",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,m.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tr",{ref:t,className:(0,m.cn)("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",a),...s})});x.displayName="TableRow";let j=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("th",{ref:t,className:(0,m.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s})});j.displayName="TableHead";let g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("td",{ref:t,className:(0,m.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s})});g.displayName="TableCell",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("caption",{ref:t,className:(0,m.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption";var y=a(71847);let v=(0,y.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),f=(0,y.A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),N=(0,y.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var b=a(15894);function k(e){let{employees:t,onAddEmployee:a,onUpdateEmployee:n,onDeleteEmployee:l}=e,{toast:m}=(0,b.dj)(),[y,k]=(0,s.useState)(null),[w,S]=(0,s.useState)({name:"",tokenNumber:"",designation:"",employmentType:"Contract",group:""}),T=()=>{S({name:"",tokenNumber:"",designation:"",employmentType:"Contract",group:""}),k(null)};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!w.name||!w.tokenNumber||!w.designation||!w.group)return void m({title:"Missing Information",description:"Please fill all required fields",variant:"destructive"});y?(n({...w,id:y}),m({title:"Employee Updated",description:"".concat(w.name," has been updated successfully")})):(a({...w,id:Date.now().toString()}),m({title:"Employee Added",description:"".concat(w.name," has been added successfully")})),T()},className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-lg bg-card",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"name",children:"Employee Name *"}),(0,r.jsx)(d.p,{id:"name",value:w.name,onChange:e=>S({...w,name:e.target.value}),placeholder:"Enter full name"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"token",children:"Token Number *"}),(0,r.jsx)(d.p,{id:"token",value:w.tokenNumber,onChange:e=>S({...w,tokenNumber:e.target.value}),placeholder:"e.g. 101"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"designation",children:"Designation / Role *"}),(0,r.jsx)(d.p,{id:"designation",value:w.designation,onChange:e=>S({...w,designation:e.target.value}),placeholder:"e.g. Packer, Loader"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"type",children:"Employment Type *"}),(0,r.jsxs)(c.l6,{value:w.employmentType,onValueChange:e=>S({...w,employmentType:e}),children:[(0,r.jsx)(c.bq,{id:"type",className:"bg-background",children:(0,r.jsx)(c.yv,{})}),(0,r.jsxs)(c.gC,{className:"bg-background z-50",children:[(0,r.jsx)(c.eb,{value:"On-Roll",children:"On-Roll"}),(0,r.jsx)(c.eb,{value:"Contract",children:"Contract"}),(0,r.jsx)(c.eb,{value:"FTE",children:"FTE"}),(0,r.jsx)(c.eb,{value:"Apprenticeship",children:"Apprenticeship"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"group",children:"Assigned Group *"}),(0,r.jsx)(d.p,{id:"group",value:w.group,onChange:e=>S({...w,group:e.target.value}),placeholder:"e.g. G1, G2, G3"})]}),(0,r.jsxs)("div",{className:"flex items-end gap-2",children:[(0,r.jsx)(i.$,{type:"submit",className:"flex-1",children:y?"Update Employee":(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v,{className:"w-4 h-4 mr-2"})," Add Employee"]})}),y&&(0,r.jsx)(i.$,{type:"button",variant:"outline",onClick:T,children:"Cancel"})]})]}),(0,r.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,r.jsxs)(h,{children:[(0,r.jsx)(u,{children:(0,r.jsxs)(x,{children:[(0,r.jsx)(j,{children:"Token"}),(0,r.jsx)(j,{children:"Name"}),(0,r.jsx)(j,{children:"Designation"}),(0,r.jsx)(j,{children:"Type"}),(0,r.jsx)(j,{children:"Group"}),(0,r.jsx)(j,{className:"text-right",children:"Actions"})]})}),(0,r.jsx)(p,{children:t.map(e=>(0,r.jsxs)(x,{children:[(0,r.jsx)(g,{className:"font-medium",children:e.tokenNumber}),(0,r.jsx)(g,{children:e.name}),(0,r.jsx)(g,{children:e.designation}),(0,r.jsx)(g,{children:e.employmentType}),(0,r.jsx)(g,{children:e.group}),(0,r.jsxs)(g,{className:"text-right space-x-2",children:[(0,r.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>{S({name:e.name,tokenNumber:e.tokenNumber,designation:e.designation,employmentType:e.employmentType,group:e.group}),k(e.id)},children:(0,r.jsx)(f,{className:"w-4 h-4"})}),(0,r.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>{var t,a;return t=e.id,a=e.name,void(l(t),m({title:"Employee Removed",description:"".concat(a," has been removed")}))},children:(0,r.jsx)(N,{className:"w-4 h-4 text-destructive"})})]})]},e.id))})]})})]})}let w=(0,y.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),S=(0,y.A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);var T=a(21786);function E(e){let{onAttendanceUpdate:t}=e,{toast:a}=(0,b.dj)(),[m,y]=(0,s.useState)([]),[v,f]=(0,s.useState)(!0),[N,k]=(0,s.useState)(!1),[E,C]=(0,s.useState)(new Date().toISOString().split("T")[0]),[R,A]=(0,s.useState)({}),[F,_]=(0,s.useState)({});(0,s.useEffect)(()=>{P()},[]),(0,s.useEffect)(()=>{E&&m.length>0&&G()},[E,m.length]);let P=async()=>{try{f(!0);let e=await fetch("/api/employees"),t=await e.json();if(t.success&&t.data){y(t.data);let e={};t.data.forEach(t=>{e[t.token_no]="present"}),A(e)}else a({title:"Error",description:t.error||"Failed to fetch employees",variant:"destructive"})}catch(e){console.error("Error fetching employees:",e),a({title:"Error",description:"Failed to fetch employees",variant:"destructive"})}finally{f(!1)}},G=async()=>{try{let e=await fetch("/api/attendance?date=".concat(E)),t=await e.json();if(t.success&&t.data){let e={};t.data.forEach(t=>{e[t.token_no]=t.status}),_(e),A(t=>{let a={...t};return Object.keys(e).forEach(t=>{a[t]=e[t]}),a})}}catch(e){console.error("Error fetching existing attendance:",e)}},D=async()=>{if(0===m.length)return void a({title:"No Employees",description:"No employees to save attendance for",variant:"destructive"});k(!0);try{let e=m.map(e=>({token_no:e.token_no,attendance_date:E,status:R[e.token_no]||"present"})),r=await fetch("/api/attendance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({records:e})}),s=await r.json();s.success?(a({title:"Success",description:"Attendance saved for ".concat(s.recordsUpdated||e.length," employees")}),_(t=>{let a={...t};return e.forEach(e=>{a[e.token_no]=e.status}),a}),null==t||t()):(a({title:"Error",description:s.error||"Failed to save attendance",variant:"destructive"}),s.errors&&s.errors.length>0&&console.error("Errors:",s.errors))}catch(e){console.error("Error saving attendance:",e),a({title:"Error",description:"Failed to save attendance",variant:"destructive"})}finally{k(!1)}},M=async e=>{var r;let s=null==(r=e.target.files)?void 0:r[0];if(!s)return;let n=new FileReader;n.onload=async e=>{try{var r;let s=(null==e||null==(r=e.target)?void 0:r.result).split("\n").slice(1).filter(e=>e.trim()),n=[];if(s.forEach(e=>{let[t,a,r]=e.split(",").map(e=>e.trim());if(!t||!a)return;let s=["present","absent","leave","half_day","holiday","remote"].includes(a.toLowerCase())?a.toLowerCase():"present";n.push({token_no:t,attendance_date:r||E,status:s})}),0===n.length)return void a({title:"Error",description:"No valid records found in CSV",variant:"destructive"});k(!0);let l=await fetch("/api/attendance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({records:n})}),i=await l.json();i.success?(a({title:"Bulk Upload Complete",description:"Successfully uploaded ".concat(i.recordsUpdated||n.length," attendance records")}),await G(),null==t||t()):(a({title:"Error",description:i.error||"Failed to upload CSV",variant:"destructive"}),i.errors&&i.errors.length>0&&console.error("Errors:",i.errors))}catch(e){console.error("Error processing CSV:",e),a({title:"Error",description:"Failed to process CSV file",variant:"destructive"})}finally{k(!1)}},n.readAsText(s),e.target.value=""};return v?(0,r.jsx)(n.Zp,{children:(0,r.jsxs)(n.Wu,{className:"flex items-center justify-center py-12",children:[(0,r.jsx)(w,{className:"w-6 h-6 animate-spin text-muted-foreground"}),(0,r.jsx)("span",{className:"ml-2 text-muted-foreground",children:"Loading employees..."})]})}):(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{children:"Mark Attendance"})}),(0,r.jsx)(n.Wu,{children:(0,r.jsxs)(l.tU,{defaultValue:"manual",className:"w-full",children:[(0,r.jsxs)(l.j7,{className:"grid w-full grid-cols-2 bg-muted",children:[(0,r.jsx)(l.Xi,{value:"manual",children:"Manual Entry"}),(0,r.jsx)(l.Xi,{value:"upload",children:"CSV Upload"})]}),(0,r.jsxs)(l.av,{value:"manual",className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.J,{htmlFor:"date",children:"Select Date"}),(0,r.jsx)(d.p,{id:"date",type:"date",value:E,onChange:e=>C(e.target.value),max:new Date().toISOString().split("T")[0],className:"w-auto"})]}),(0,r.jsx)(i.$,{onClick:D,disabled:N||0===m.length,className:"ml-auto",children:N?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(S,{className:"w-4 h-4 mr-2"}),"Save Attendance"]})})]}),0===m.length?(0,r.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No employees found"}):(0,r.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,r.jsxs)(h,{children:[(0,r.jsx)(u,{children:(0,r.jsxs)(x,{children:[(0,r.jsx)(j,{children:"Token No"}),(0,r.jsx)(j,{children:"Name"}),(0,r.jsx)(j,{children:"Group"}),(0,r.jsx)(j,{children:"Designation"}),(0,r.jsx)(j,{className:"text-right",children:"Status"})]})}),(0,r.jsx)(p,{children:m.map(e=>(0,r.jsxs)(x,{children:[(0,r.jsx)(g,{className:"font-medium",children:e.token_no}),(0,r.jsx)(g,{children:e.name}),(0,r.jsx)(g,{children:e.group||"-"}),(0,r.jsx)(g,{children:e.desig||"-"}),(0,r.jsx)(g,{className:"text-right",children:(0,r.jsxs)(c.l6,{value:R[e.token_no]||"present",onValueChange:t=>{var a;return a=e.token_no,void A(e=>({...e,[a]:t}))},children:[(0,r.jsx)(c.bq,{className:"w-32 ml-auto bg-background",children:(0,r.jsx)(c.yv,{})}),(0,r.jsxs)(c.gC,{className:"bg-background z-50",children:[(0,r.jsx)(c.eb,{value:"present",children:"Present"}),(0,r.jsx)(c.eb,{value:"absent",children:"Absent"}),(0,r.jsx)(c.eb,{value:"leave",children:"Leave"}),(0,r.jsx)(c.eb,{value:"half_day",children:"Half Day"}),(0,r.jsx)(c.eb,{value:"holiday",children:"Holiday"}),(0,r.jsx)(c.eb,{value:"remote",children:"Remote"})]})]})})]},e.token_no))})]})})]}),(0,r.jsxs)(l.av,{value:"upload",className:"space-y-4",children:[(0,r.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[(0,r.jsx)(T.A,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),(0,r.jsxs)(o.J,{htmlFor:"csv-upload",className:"cursor-pointer",children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"Upload a CSV file with columns: Token, Status, Date (optional)"}),(0,r.jsx)(i.$,{type:"button",variant:"outline",asChild:!0,children:(0,r.jsx)("span",{children:"Choose CSV File"})})]}),(0,r.jsx)(d.p,{id:"csv-upload",type:"file",accept:".csv",onChange:M,className:"hidden"})]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,r.jsx)("p",{className:"font-semibold mb-1",children:"CSV Format Example:"}),(0,r.jsxs)("code",{className:"block bg-muted p-2 rounded",children:["Token,Status,Date",(0,r.jsx)("br",{}),"101,present,2025-10-06",(0,r.jsx)("br",{}),"102,absent,2025-10-06",(0,r.jsx)("br",{}),"103,leave,2025-10-06"]}),(0,r.jsx)("p",{className:"mt-2",children:"Valid statuses: present, absent, leave, half_day, holiday, remote"})]})]})]})})]})}var C=a(11647);let R=(0,y.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);function A(e){let{refreshTrigger:t}=e,{toast:a}=(0,b.dj)(),[l,i]=(0,s.useState)([]),[c,m]=(0,s.useState)({}),[y,v]=(0,s.useState)(new Date().toISOString().split("T")[0]),[f,N]=(0,s.useState)(!0);(0,s.useEffect)(()=>{k()},[]),(0,s.useEffect)(()=>{y&&S()},[y,t]);let k=async()=>{try{let e=await fetch("/api/employees"),t=await e.json();if(t.success&&t.data){let e={};t.data.forEach(t=>{e[t.token_no]={name:t.name,group:t.group,desig:t.desig}}),m(e)}}catch(e){console.error("Error fetching employees:",e)}},S=async()=>{try{N(!0);let e=await fetch("/api/attendance?date=".concat(y)),t=await e.json();t.success&&t.data?i(t.data):a({title:"Error",description:t.error||"Failed to fetch attendance",variant:"destructive"})}catch(e){console.error("Error fetching attendance:",e),a({title:"Error",description:"Failed to fetch attendance records",variant:"destructive"})}finally{N(!1)}};return(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsxs)(n.ZB,{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"Attendance Records"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(R,{className:"w-4 h-4 text-muted-foreground"}),(0,r.jsx)(o.J,{htmlFor:"filter-date",className:"sr-only",children:"Filter by Date"}),(0,r.jsx)(d.p,{id:"filter-date",type:"date",value:y,onChange:e=>v(e.target.value),className:"w-48"})]})]})}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,r.jsxs)(h,{children:[(0,r.jsx)(u,{children:(0,r.jsxs)(x,{children:[(0,r.jsx)(j,{children:"Token"}),(0,r.jsx)(j,{children:"Name"}),(0,r.jsx)(j,{children:"Role"}),(0,r.jsx)(j,{children:"Type"}),(0,r.jsx)(j,{children:"Group"}),(0,r.jsx)(j,{children:"Status"}),(0,r.jsx)(j,{children:"Date"})]})}),(0,r.jsx)(p,{children:f?(0,r.jsx)(x,{children:(0,r.jsx)(g,{colSpan:7,className:"text-center py-8",children:(0,r.jsx)(w,{className:"w-5 h-5 animate-spin mx-auto text-muted-foreground"})})}):0===l.length?(0,r.jsx)(x,{children:(0,r.jsx)(g,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No attendance records found for the selected date"})}):l.map(e=>{let t=c[e.token_no];return(0,r.jsxs)(x,{children:[(0,r.jsx)(g,{className:"font-medium",children:e.token_no}),(0,r.jsx)(g,{children:(null==t?void 0:t.name)||"Unknown"}),(0,r.jsx)(g,{children:(null==t?void 0:t.desig)||"-"}),(0,r.jsx)(g,{children:"-"}),(0,r.jsx)(g,{children:(null==t?void 0:t.group)||"-"}),(0,r.jsx)(g,{children:(e=>{switch(e.toLowerCase()){case"present":return(0,r.jsx)(C.E,{className:"bg-green-500 hover:bg-green-600",children:"Present"});case"absent":return(0,r.jsx)(C.E,{variant:"destructive",children:"Absent"});case"leave":return(0,r.jsx)(C.E,{variant:"secondary",children:"Leave"});case"half_day":return(0,r.jsx)(C.E,{variant:"outline",children:"Half Day"});case"holiday":return(0,r.jsx)(C.E,{className:"bg-blue-500 hover:bg-blue-600",children:"Holiday"});case"remote":return(0,r.jsx)(C.E,{className:"bg-purple-500 hover:bg-purple-600",children:"Remote"});default:return(0,r.jsx)(C.E,{variant:"outline",children:e})}})(e.status)}),(0,r.jsx)(g,{children:new Date(e.attendance_date).toLocaleDateString()})]},e.id)})})]})})})]})}function F(e){let{attendance:t}=e,a=Array.from(new Set(t.map(e=>e.group))).sort().map(e=>{let a=t.filter(t=>t.group===e&&"Present"===t.status);return{group:e,onRoll:a.filter(e=>"On-Roll"===e.employmentType).length,contract:a.filter(e=>"Contract"===e.employmentType).length,fte:a.filter(e=>"FTE"===e.employmentType).length,apprenticeship:a.filter(e=>"Apprenticeship"===e.employmentType).length,total:a.length}}),s={group:"Total",onRoll:a.reduce((e,t)=>e+t.onRoll,0),contract:a.reduce((e,t)=>e+t.contract,0),fte:a.reduce((e,t)=>e+t.fte,0),apprenticeship:a.reduce((e,t)=>e+t.apprenticeship,0),total:a.reduce((e,t)=>e+t.total,0)};return(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{children:"Group Summary Report"})}),(0,r.jsxs)(n.Wu,{children:[(0,r.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,r.jsxs)(h,{children:[(0,r.jsx)(u,{children:(0,r.jsxs)(x,{children:[(0,r.jsx)(j,{className:"font-bold",children:"Group"}),(0,r.jsx)(j,{className:"text-right",children:"On-Roll"}),(0,r.jsx)(j,{className:"text-right",children:"Contract"}),(0,r.jsx)(j,{className:"text-right",children:"FTE"}),(0,r.jsx)(j,{className:"text-right",children:"Apprenticeship"}),(0,r.jsx)(j,{className:"text-right font-bold",children:"Total"})]})}),(0,r.jsxs)(p,{children:[a.map(e=>(0,r.jsxs)(x,{children:[(0,r.jsx)(g,{className:"font-medium",children:e.group}),(0,r.jsx)(g,{className:"text-right",children:e.onRoll}),(0,r.jsx)(g,{className:"text-right",children:e.contract}),(0,r.jsx)(g,{className:"text-right",children:e.fte}),(0,r.jsx)(g,{className:"text-right",children:e.apprenticeship}),(0,r.jsx)(g,{className:"text-right font-bold",children:e.total})]},e.group)),(0,r.jsxs)(x,{className:"bg-muted font-bold",children:[(0,r.jsx)(g,{children:s.group}),(0,r.jsx)(g,{className:"text-right",children:s.onRoll}),(0,r.jsx)(g,{className:"text-right",children:s.contract}),(0,r.jsx)(g,{className:"text-right",children:s.fte}),(0,r.jsx)(g,{className:"text-right",children:s.apprenticeship}),(0,r.jsx)(g,{className:"text-right",children:s.total})]})]})]})}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-4",children:"* Summary shows only employees marked as Present"})]})]})}let _=[{id:"1",name:"Rajesh Kumar",tokenNumber:"101",designation:"Packer",employmentType:"Contract",group:"G1"},{id:"2",name:"Priya Singh",tokenNumber:"102",designation:"Loader",employmentType:"On-Roll",group:"G1"},{id:"3",name:"Amit Sharma",tokenNumber:"103",designation:"Supervisor",employmentType:"FTE",group:"G1"},{id:"4",name:"Sneha Patel",tokenNumber:"104",designation:"Packer",employmentType:"Apprenticeship",group:"G1"},{id:"5",name:"Ravi Gupta",tokenNumber:"105",designation:"Loader",employmentType:"Contract",group:"G2"},{id:"6",name:"Kavita Reddy",tokenNumber:"106",designation:"Packer",employmentType:"On-Roll",group:"G2"},{id:"7",name:"Suresh Yadav",tokenNumber:"107",designation:"Supervisor",employmentType:"FTE",group:"G2"},{id:"8",name:"Meera Joshi",tokenNumber:"108",designation:"Packer",employmentType:"Contract",group:"G3"}],P=new Date().toISOString().split("T")[0],G=[{id:"1",tokenNumber:"101",employeeName:"Rajesh Kumar",date:P,status:"Present",group:"G1",designation:"Packer",employmentType:"Contract"},{id:"2",tokenNumber:"102",employeeName:"Priya Singh",date:P,status:"Present",group:"G1",designation:"Loader",employmentType:"On-Roll"},{id:"3",tokenNumber:"103",employeeName:"Amit Sharma",date:P,status:"Absent",group:"G1",designation:"Supervisor",employmentType:"FTE"},{id:"4",tokenNumber:"104",employeeName:"Sneha Patel",date:P,status:"Present",group:"G1",designation:"Packer",employmentType:"Apprenticeship"},{id:"5",tokenNumber:"105",employeeName:"Ravi Gupta",date:P,status:"Leave",group:"G2",designation:"Loader",employmentType:"Contract"},{id:"6",tokenNumber:"106",employeeName:"Kavita Reddy",date:P,status:"Present",group:"G2",designation:"Packer",employmentType:"On-Roll"}];function D(){let[e,t]=(0,s.useState)(_),[a,i]=(0,s.useState)(G);return(0,r.jsx)("div",{className:"min-h-screen bg-background p-6",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Group Leader Panel"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Manage employees and track daily attendance"})]}),(0,r.jsxs)(l.tU,{defaultValue:"attendance",className:"w-full",children:[(0,r.jsxs)(l.j7,{className:"grid w-full grid-cols-4 bg-muted",children:[(0,r.jsx)(l.Xi,{value:"attendance",children:"Mark Attendance"}),(0,r.jsx)(l.Xi,{value:"view",children:"View Attendance"}),(0,r.jsx)(l.Xi,{value:"employees",children:"Manage Employees"}),(0,r.jsx)(l.Xi,{value:"summary",children:"Summary Report"})]}),(0,r.jsx)(l.av,{value:"attendance",className:"space-y-4",children:(0,r.jsx)(E,{onAttendanceUpdate:()=>{}})}),(0,r.jsx)(l.av,{value:"view",children:(0,r.jsx)(A,{})}),(0,r.jsx)(l.av,{value:"employees",children:(0,r.jsxs)(n.Zp,{children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{children:"Employee Management"})}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)(k,{employees:e,onAddEmployee:a=>{t([...e,a])},onUpdateEmployee:a=>{t(e.map(e=>e.id===a.id?a:e))},onDeleteEmployee:a=>{t(e.filter(e=>e.id!==a))}})})]})}),(0,r.jsx)(l.av,{value:"summary",children:(0,r.jsx)(F,{attendance:a})})]})]})})}},61762:(e,t,a)=>{Promise.resolve().then(a.bind(a,37567)),Promise.resolve().then(a.bind(a,57135))}},e=>{e.O(0,[279,341,673,903,441,255,358],()=>e(e.s=61762)),_N_E=e.O()}]);