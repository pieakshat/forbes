(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92],{61762:(e,t,a)=>{Promise.resolve().then(a.bind(a,37567)),Promise.resolve().then(a.bind(a,74067))},74067:(e,t,a)=>{"use strict";a.d(t,{default:()=>M});var n=a(95155),s=a(12115),l=a(86948),r=a(13406),d=a(3998),i=a(65142),o=a(76444),c=a(11186),m=a(64269);let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("div",{className:"relative w-full overflow-auto",children:(0,n.jsx)("table",{ref:t,className:(0,m.cn)("w-full caption-bottom text-sm",a),...s})})});p.displayName="Table";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("thead",{ref:t,className:(0,m.cn)("[&_tr]:border-b",a),...s})});u.displayName="TableHeader";let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("tbody",{ref:t,className:(0,m.cn)("[&_tr:last-child]:border-0",a),...s})});h.displayName="TableBody",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("tfoot",{ref:t,className:(0,m.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("tr",{ref:t,className:(0,m.cn)("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",a),...s})});x.displayName="TableRow";let j=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("th",{ref:t,className:(0,m.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s})});j.displayName="TableHead";let g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("td",{ref:t,className:(0,m.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s})});g.displayName="TableCell",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,n.jsx)("caption",{ref:t,className:(0,m.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption";var y=a(71847);let N=(0,y.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),v=(0,y.A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),b=(0,y.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var f=a(15894);function k(e){let{employees:t,onAddEmployee:a,onUpdateEmployee:l,onDeleteEmployee:r}=e,{toast:m}=(0,f.dj)(),[y,k]=(0,s.useState)(null),[T,w]=(0,s.useState)({name:"",tokenNumber:"",designation:"",employmentType:"Contract",group:""}),S=()=>{w({name:"",tokenNumber:"",designation:"",employmentType:"Contract",group:""}),k(null)};return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!T.name||!T.tokenNumber||!T.designation||!T.group)return void m({title:"Missing Information",description:"Please fill all required fields",variant:"destructive"});y?(l({...T,id:y}),m({title:"Employee Updated",description:"".concat(T.name," has been updated successfully")})):(a({...T,id:Date.now().toString()}),m({title:"Employee Added",description:"".concat(T.name," has been added successfully")})),S()},className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border rounded-lg bg-card",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(o.J,{htmlFor:"name",children:"Employee Name *"}),(0,n.jsx)(i.p,{id:"name",value:T.name,onChange:e=>w({...T,name:e.target.value}),placeholder:"Enter full name"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(o.J,{htmlFor:"token",children:"Token Number *"}),(0,n.jsx)(i.p,{id:"token",value:T.tokenNumber,onChange:e=>w({...T,tokenNumber:e.target.value}),placeholder:"e.g. 101"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(o.J,{htmlFor:"designation",children:"Designation / Role *"}),(0,n.jsx)(i.p,{id:"designation",value:T.designation,onChange:e=>w({...T,designation:e.target.value}),placeholder:"e.g. Packer, Loader"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(o.J,{htmlFor:"type",children:"Employment Type *"}),(0,n.jsxs)(c.l6,{value:T.employmentType,onValueChange:e=>w({...T,employmentType:e}),children:[(0,n.jsx)(c.bq,{id:"type",className:"bg-background",children:(0,n.jsx)(c.yv,{})}),(0,n.jsxs)(c.gC,{className:"bg-background z-50",children:[(0,n.jsx)(c.eb,{value:"On-Roll",children:"On-Roll"}),(0,n.jsx)(c.eb,{value:"Contract",children:"Contract"}),(0,n.jsx)(c.eb,{value:"FTE",children:"FTE"}),(0,n.jsx)(c.eb,{value:"Apprenticeship",children:"Apprenticeship"})]})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(o.J,{htmlFor:"group",children:"Assigned Group *"}),(0,n.jsx)(i.p,{id:"group",value:T.group,onChange:e=>w({...T,group:e.target.value}),placeholder:"e.g. G1, G2, G3"})]}),(0,n.jsxs)("div",{className:"flex items-end gap-2",children:[(0,n.jsx)(d.$,{type:"submit",className:"flex-1",children:y?"Update Employee":(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(N,{className:"w-4 h-4 mr-2"})," Add Employee"]})}),y&&(0,n.jsx)(d.$,{type:"button",variant:"outline",onClick:S,children:"Cancel"})]})]}),(0,n.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,n.jsxs)(p,{children:[(0,n.jsx)(u,{children:(0,n.jsxs)(x,{children:[(0,n.jsx)(j,{children:"Token"}),(0,n.jsx)(j,{children:"Name"}),(0,n.jsx)(j,{children:"Designation"}),(0,n.jsx)(j,{children:"Type"}),(0,n.jsx)(j,{children:"Group"}),(0,n.jsx)(j,{className:"text-right",children:"Actions"})]})}),(0,n.jsx)(h,{children:t.map(e=>(0,n.jsxs)(x,{children:[(0,n.jsx)(g,{className:"font-medium",children:e.tokenNumber}),(0,n.jsx)(g,{children:e.name}),(0,n.jsx)(g,{children:e.designation}),(0,n.jsx)(g,{children:e.employmentType}),(0,n.jsx)(g,{children:e.group}),(0,n.jsxs)(g,{className:"text-right space-x-2",children:[(0,n.jsx)(d.$,{variant:"ghost",size:"icon",onClick:()=>{w({name:e.name,tokenNumber:e.tokenNumber,designation:e.designation,employmentType:e.employmentType,group:e.group}),k(e.id)},children:(0,n.jsx)(v,{className:"w-4 h-4"})}),(0,n.jsx)(d.$,{variant:"ghost",size:"icon",onClick:()=>{var t,a;return t=e.id,a=e.name,void(r(t),m({title:"Employee Removed",description:"".concat(a," has been removed")}))},children:(0,n.jsx)(b,{className:"w-4 h-4 text-destructive"})})]})]},e.id))})]})})]})}let T=(0,y.A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);var w=a(21786);function S(e){let{employees:t,onAddAttendance:a,onBulkAddAttendance:m}=e,{toast:p}=(0,f.dj)(),[u,h]=(0,s.useState)(""),[x,j]=(0,s.useState)(new Date().toISOString().split("T")[0]),[g,y]=(0,s.useState)("Present");return(0,n.jsxs)(l.Zp,{children:[(0,n.jsx)(l.aR,{children:(0,n.jsx)(l.ZB,{children:"Mark Attendance"})}),(0,n.jsx)(l.Wu,{children:(0,n.jsxs)(r.tU,{defaultValue:"manual",className:"w-full",children:[(0,n.jsxs)(r.j7,{className:"grid w-full grid-cols-2 bg-muted",children:[(0,n.jsx)(r.Xi,{value:"manual",children:"Manual Entry"}),(0,n.jsx)(r.Xi,{value:"upload",children:"CSV Upload"})]}),(0,n.jsx)(r.av,{value:"manual",children:(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault();let n=t.find(e=>e.tokenNumber===u);if(!n)return void p({title:"Employee Not Found",description:"Please enter a valid token number",variant:"destructive"});a({id:Date.now().toString(),tokenNumber:u,employeeName:n.name,date:x,status:g,group:n.group,designation:n.designation,employmentType:n.employmentType}),p({title:"Attendance Recorded",description:"".concat(g," marked for ").concat(n.name)}),h("")},className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(o.J,{htmlFor:"token",children:"Employee Token Number"}),(0,n.jsx)(i.p,{id:"token",value:u,onChange:e=>h(e.target.value),placeholder:"e.g. 101",required:!0})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(o.J,{htmlFor:"date",children:"Date"}),(0,n.jsx)(i.p,{id:"date",type:"date",value:x,onChange:e=>j(e.target.value),required:!0})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(o.J,{htmlFor:"status",children:"Attendance Status"}),(0,n.jsxs)(c.l6,{value:g,onValueChange:e=>y(e),children:[(0,n.jsx)(c.bq,{id:"status",className:"bg-background",children:(0,n.jsx)(c.yv,{})}),(0,n.jsxs)(c.gC,{className:"bg-background z-50",children:[(0,n.jsx)(c.eb,{value:"Present",children:"Present"}),(0,n.jsx)(c.eb,{value:"Absent",children:"Absent"}),(0,n.jsx)(c.eb,{value:"Leave",children:"Leave"})]})]})]})]}),(0,n.jsxs)(d.$,{type:"submit",className:"w-full md:w-auto",children:[(0,n.jsx)(T,{className:"w-4 h-4 mr-2"}),"Mark Attendance"]})]})}),(0,n.jsxs)(r.av,{value:"upload",className:"space-y-4",children:[(0,n.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[(0,n.jsx)(w.A,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),(0,n.jsxs)(o.J,{htmlFor:"csv-upload",className:"cursor-pointer",children:[(0,n.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"Upload a CSV file with columns: Token, Status, Date (optional)"}),(0,n.jsx)(d.$,{type:"button",variant:"outline",asChild:!0,children:(0,n.jsx)("span",{children:"Choose CSV File"})})]}),(0,n.jsx)(i.p,{id:"csv-upload",type:"file",accept:".csv",onChange:e=>{var a;let n=null==(a=e.target.files)?void 0:a[0];if(!n)return;let s=new FileReader;s.onload=e=>{var a;let n=(null==(a=e.target)?void 0:a.result).split("\n").slice(1),s=[];n.forEach(e=>{let[a,n,l]=e.split(",").map(e=>e.trim());if(!a||!n)return;let r=t.find(e=>e.tokenNumber===a);r&&s.push({id:"".concat(Date.now(),"-").concat(Math.random()),tokenNumber:a,employeeName:r.name,date:l||x,status:n,group:r.group,designation:r.designation,employmentType:r.employmentType})}),m(s),p({title:"Bulk Upload Complete",description:"".concat(s.length," attendance records added")})},s.readAsText(n),e.target.value=""},className:"hidden"})]}),(0,n.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,n.jsx)("p",{className:"font-semibold mb-1",children:"CSV Format Example:"}),(0,n.jsxs)("code",{className:"block bg-muted p-2 rounded",children:["Token,Status,Date",(0,n.jsx)("br",{}),"101,Present,2025-10-06",(0,n.jsx)("br",{}),"102,Absent,2025-10-06"]})]})]})]})})]})}var C=a(11647);let R=(0,y.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);function A(e){let{attendance:t}=e,[a,r]=(0,s.useState)(new Date().toISOString().split("T")[0]),d=t.filter(e=>!a||e.date===a);return(0,n.jsxs)(l.Zp,{children:[(0,n.jsx)(l.aR,{children:(0,n.jsxs)(l.ZB,{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{children:"Attendance Records"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(R,{className:"w-4 h-4 text-muted-foreground"}),(0,n.jsx)(o.J,{htmlFor:"filter-date",className:"sr-only",children:"Filter by Date"}),(0,n.jsx)(i.p,{id:"filter-date",type:"date",value:a,onChange:e=>r(e.target.value),className:"w-48"})]})]})}),(0,n.jsx)(l.Wu,{children:(0,n.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,n.jsxs)(p,{children:[(0,n.jsx)(u,{children:(0,n.jsxs)(x,{children:[(0,n.jsx)(j,{children:"Token"}),(0,n.jsx)(j,{children:"Name"}),(0,n.jsx)(j,{children:"Role"}),(0,n.jsx)(j,{children:"Type"}),(0,n.jsx)(j,{children:"Group"}),(0,n.jsx)(j,{children:"Status"}),(0,n.jsx)(j,{children:"Date"})]})}),(0,n.jsx)(h,{children:0===d.length?(0,n.jsx)(x,{children:(0,n.jsx)(g,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No attendance records found for the selected date"})}):d.map(e=>(0,n.jsxs)(x,{children:[(0,n.jsx)(g,{className:"font-medium",children:e.tokenNumber}),(0,n.jsx)(g,{children:e.employeeName}),(0,n.jsx)(g,{children:e.designation}),(0,n.jsx)(g,{children:e.employmentType}),(0,n.jsx)(g,{children:e.group}),(0,n.jsx)(g,{children:(e=>{switch(e){case"Present":return(0,n.jsx)(C.E,{className:"bg-green-500 hover:bg-green-600",children:"Present"});case"Absent":return(0,n.jsx)(C.E,{variant:"destructive",children:"Absent"});case"Leave":return(0,n.jsx)(C.E,{variant:"secondary",children:"Leave"});default:return(0,n.jsx)(C.E,{variant:"outline",children:e})}})(e.status)}),(0,n.jsx)(g,{children:new Date(e.date).toLocaleDateString()})]},e.id))})]})})})]})}function E(e){let{attendance:t}=e,a=Array.from(new Set(t.map(e=>e.group))).sort().map(e=>{let a=t.filter(t=>t.group===e&&"Present"===t.status);return{group:e,onRoll:a.filter(e=>"On-Roll"===e.employmentType).length,contract:a.filter(e=>"Contract"===e.employmentType).length,fte:a.filter(e=>"FTE"===e.employmentType).length,apprenticeship:a.filter(e=>"Apprenticeship"===e.employmentType).length,total:a.length}}),s={group:"Total",onRoll:a.reduce((e,t)=>e+t.onRoll,0),contract:a.reduce((e,t)=>e+t.contract,0),fte:a.reduce((e,t)=>e+t.fte,0),apprenticeship:a.reduce((e,t)=>e+t.apprenticeship,0),total:a.reduce((e,t)=>e+t.total,0)};return(0,n.jsxs)(l.Zp,{children:[(0,n.jsx)(l.aR,{children:(0,n.jsx)(l.ZB,{children:"Group Summary Report"})}),(0,n.jsxs)(l.Wu,{children:[(0,n.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,n.jsxs)(p,{children:[(0,n.jsx)(u,{children:(0,n.jsxs)(x,{children:[(0,n.jsx)(j,{className:"font-bold",children:"Group"}),(0,n.jsx)(j,{className:"text-right",children:"On-Roll"}),(0,n.jsx)(j,{className:"text-right",children:"Contract"}),(0,n.jsx)(j,{className:"text-right",children:"FTE"}),(0,n.jsx)(j,{className:"text-right",children:"Apprenticeship"}),(0,n.jsx)(j,{className:"text-right font-bold",children:"Total"})]})}),(0,n.jsxs)(h,{children:[a.map(e=>(0,n.jsxs)(x,{children:[(0,n.jsx)(g,{className:"font-medium",children:e.group}),(0,n.jsx)(g,{className:"text-right",children:e.onRoll}),(0,n.jsx)(g,{className:"text-right",children:e.contract}),(0,n.jsx)(g,{className:"text-right",children:e.fte}),(0,n.jsx)(g,{className:"text-right",children:e.apprenticeship}),(0,n.jsx)(g,{className:"text-right font-bold",children:e.total})]},e.group)),(0,n.jsxs)(x,{className:"bg-muted font-bold",children:[(0,n.jsx)(g,{children:s.group}),(0,n.jsx)(g,{className:"text-right",children:s.onRoll}),(0,n.jsx)(g,{className:"text-right",children:s.contract}),(0,n.jsx)(g,{className:"text-right",children:s.fte}),(0,n.jsx)(g,{className:"text-right",children:s.apprenticeship}),(0,n.jsx)(g,{className:"text-right",children:s.total})]})]})]})}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground mt-4",children:"* Summary shows only employees marked as Present"})]})]})}let P=[{id:"1",name:"Rajesh Kumar",tokenNumber:"101",designation:"Packer",employmentType:"Contract",group:"G1"},{id:"2",name:"Priya Singh",tokenNumber:"102",designation:"Loader",employmentType:"On-Roll",group:"G1"},{id:"3",name:"Amit Sharma",tokenNumber:"103",designation:"Supervisor",employmentType:"FTE",group:"G1"},{id:"4",name:"Sneha Patel",tokenNumber:"104",designation:"Packer",employmentType:"Apprenticeship",group:"G1"},{id:"5",name:"Ravi Gupta",tokenNumber:"105",designation:"Loader",employmentType:"Contract",group:"G2"},{id:"6",name:"Kavita Reddy",tokenNumber:"106",designation:"Packer",employmentType:"On-Roll",group:"G2"},{id:"7",name:"Suresh Yadav",tokenNumber:"107",designation:"Supervisor",employmentType:"FTE",group:"G2"},{id:"8",name:"Meera Joshi",tokenNumber:"108",designation:"Packer",employmentType:"Contract",group:"G3"}],G=new Date().toISOString().split("T")[0],F=[{id:"1",tokenNumber:"101",employeeName:"Rajesh Kumar",date:G,status:"Present",group:"G1",designation:"Packer",employmentType:"Contract"},{id:"2",tokenNumber:"102",employeeName:"Priya Singh",date:G,status:"Present",group:"G1",designation:"Loader",employmentType:"On-Roll"},{id:"3",tokenNumber:"103",employeeName:"Amit Sharma",date:G,status:"Absent",group:"G1",designation:"Supervisor",employmentType:"FTE"},{id:"4",tokenNumber:"104",employeeName:"Sneha Patel",date:G,status:"Present",group:"G1",designation:"Packer",employmentType:"Apprenticeship"},{id:"5",tokenNumber:"105",employeeName:"Ravi Gupta",date:G,status:"Leave",group:"G2",designation:"Loader",employmentType:"Contract"},{id:"6",tokenNumber:"106",employeeName:"Kavita Reddy",date:G,status:"Present",group:"G2",designation:"Packer",employmentType:"On-Roll"}];function M(){let[e,t]=(0,s.useState)(P),[a,d]=(0,s.useState)(F);return(0,n.jsx)("div",{className:"min-h-screen bg-background p-6",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Group Leader Panel"}),(0,n.jsx)("p",{className:"text-muted-foreground mt-2",children:"Manage employees and track daily attendance"})]}),(0,n.jsxs)(r.tU,{defaultValue:"attendance",className:"w-full",children:[(0,n.jsxs)(r.j7,{className:"grid w-full grid-cols-4 bg-muted",children:[(0,n.jsx)(r.Xi,{value:"attendance",children:"Mark Attendance"}),(0,n.jsx)(r.Xi,{value:"view",children:"View Attendance"}),(0,n.jsx)(r.Xi,{value:"employees",children:"Manage Employees"}),(0,n.jsx)(r.Xi,{value:"summary",children:"Summary Report"})]}),(0,n.jsx)(r.av,{value:"attendance",className:"space-y-4",children:(0,n.jsx)(S,{employees:e,onAddAttendance:e=>{d([...a,e])},onBulkAddAttendance:e=>{d([...a,...e])}})}),(0,n.jsx)(r.av,{value:"view",children:(0,n.jsx)(A,{attendance:a})}),(0,n.jsx)(r.av,{value:"employees",children:(0,n.jsxs)(l.Zp,{children:[(0,n.jsx)(l.aR,{children:(0,n.jsx)(l.ZB,{children:"Employee Management"})}),(0,n.jsx)(l.Wu,{children:(0,n.jsx)(k,{employees:e,onAddEmployee:a=>{t([...e,a])},onUpdateEmployee:a=>{t(e.map(e=>e.id===a.id?a:e))},onDeleteEmployee:a=>{t(e.filter(e=>e.id!==a))}})})]})}),(0,n.jsx)(r.av,{value:"summary",children:(0,n.jsx)(E,{attendance:a})})]})]})})}}},e=>{e.O(0,[279,341,673,903,441,255,358],()=>e(e.s=61762)),_N_E=e.O()}]);