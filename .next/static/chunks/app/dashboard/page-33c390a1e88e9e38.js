(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{10540:(e,s,a)=>{Promise.resolve().then(a.bind(a,37567)),Promise.resolve().then(a.bind(a,37412))},37412:(e,s,a)=>{"use strict";a.d(s,{default:()=>ef});var t=a(95155),r=a(12115),l=a(3998),n=a(19408),i=a(1524),c=a(80534),d=a(85998),o=a(20508),m=a(24033),x=a(15870),p=a(84926),h=a(47971),u=a(27937),j=a(5917),f=a(99051),g=a(64269);let y=h.bL,v=h.l9;h.YJ,h.ZL,h.Pb,h.z6,r.forwardRef((e,s)=>{let{className:a,inset:r,children:l,...n}=e;return(0,t.jsxs)(h.ZP,{ref:s,className:(0,g.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",r&&"pl-8",a),...n,children:[l,(0,t.jsx)(u.A,{className:"ml-auto h-4 w-4"})]})}).displayName=h.ZP.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(h.G5,{ref:s,className:(0,g.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=h.G5.displayName;let N=r.forwardRef((e,s)=>{let{className:a,sideOffset:r=4,...l}=e;return(0,t.jsx)(h.ZL,{children:(0,t.jsx)(h.UC,{ref:s,sideOffset:r,className:(0,g.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});N.displayName=h.UC.displayName;let b=r.forwardRef((e,s)=>{let{className:a,inset:r,...l}=e;return(0,t.jsx)(h.q7,{ref:s,className:(0,g.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",r&&"pl-8",a),...l})});b.displayName=h.q7.displayName,r.forwardRef((e,s)=>{let{className:a,children:r,checked:l,...n}=e;return(0,t.jsxs)(h.H_,{ref:s,className:(0,g.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",a),checked:l,...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(h.VF,{children:(0,t.jsx)(j.A,{className:"h-4 w-4"})})}),r]})}).displayName=h.H_.displayName,r.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsxs)(h.hN,{ref:s,className:(0,g.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",a),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(h.VF,{children:(0,t.jsx)(f.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=h.hN.displayName;let A=r.forwardRef((e,s)=>{let{className:a,inset:r,...l}=e;return(0,t.jsx)(h.JU,{ref:s,className:(0,g.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...l})});A.displayName=h.JU.displayName;let w=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(h.wv,{ref:s,className:(0,g.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});w.displayName=h.wv.displayName;var C=a(11647),P=a(57314);let k=e=>{let{children:s}=e,{user:a,signOut:r,loading:h}=(0,P.A)(),u=async()=>{await r()};return h||!a?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("header",{className:"border-b bg-card shadow-sm",children:(0,t.jsxs)("div",{className:"flex h-16 items-center justify-between px-6",children:[(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-primary rounded flex items-center justify-center",children:(0,t.jsx)(n.A,{className:"w-5 h-5 text-primary-foreground"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-foreground",children:"Forbes Marshall"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Work Order Dashboard"})]})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"hidden md:flex items-center space-x-6 px-4 py-2 bg-muted/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(i.A,{className:"w-4 h-4 text-success"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"94.2% Complete"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(c.A,{className:"w-4 h-4 text-primary"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"15 Plants Active"})]})]}),(0,t.jsxs)(l.$,{variant:"ghost",size:"icon",className:"relative",children:[(0,t.jsx)(d.A,{className:"w-5 h-5"}),(0,t.jsx)(C.E,{className:"absolute -top-1 -right-1 w-5 h-5 flex items-center justify-center p-0 text-xs",children:"3"})]}),(0,t.jsxs)(y,{children:[(0,t.jsx)(v,{asChild:!0,children:(0,t.jsxs)(l.$,{variant:"ghost",className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:(0,t.jsx)(o.A,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{className:"hidden md:block text-left",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:a.email}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground capitalize",children:a.role})]}),(0,t.jsx)(m.A,{className:"w-4 h-4"})]})}),(0,t.jsxs)(N,{align:"end",className:"w-56",children:[(0,t.jsx)(A,{children:"Account"}),(0,t.jsx)(w,{}),(0,t.jsxs)(b,{children:[(0,t.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Profile Settings"]}),(0,t.jsxs)(b,{children:[(0,t.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Preferences"]}),(0,t.jsx)(w,{}),(0,t.jsxs)(b,{onClick:u,children:[(0,t.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})]})]})}),(0,t.jsx)("main",{className:"flex-1 p-6",children:s})]})};var S=a(86948),W=a(11186),F=a(21873),z=a(71871),E=a(12263),L=a(26617);let R={cities:["Mumbai","Pune","Chennai","Delhi","Bangalore"],areas:{Mumbai:["Andheri","Bandra","Powai"],Pune:["Hadapsar","Hinjewadi","Kharadi"],Chennai:["Anna Nagar","T. Nagar","Velachery"],Delhi:["Gurgaon","Noida","Faridabad"],Bangalore:["Electronic City","Whitefield","Koramangala"]},plants:{Andheri:["Plant A1","Plant A2","Plant A3"],Bandra:["Plant B1","Plant B2"],Powai:["Plant P1","Plant P2","Plant P3"],Hadapsar:["Plant H1","Plant H2"],Hinjewadi:["Plant HJ1","Plant HJ2","Plant HJ3"]},products:{"Plant A1":["Steam Systems","Control Valves","Safety Valves"],"Plant A2":["Boiler Controls","Water Treatment","Energy Solutions"],"Plant A3":["Industrial Automation","Process Controls"],"Plant B1":["Steam Traps","Condensate Recovery"],"Plant B2":["Heat Exchangers","Pressure Vessels"]}},D=e=>{let{onSelectionChange:s}=e,[a,l]=(0,r.useState)({}),n=(e,t)=>{let r={...a,[e]:t};"city"===e?(r.area="",r.plant="",r.product=""):"area"===e?(r.plant="",r.product=""):"plant"===e&&(r.product=""),l(r),r.city&&r.area&&r.plant&&r.product&&s(r)},i=e=>{switch(e){case"city":return R.cities;case"area":return a.city&&R.areas[a.city]||[];case"plant":return a.area&&R.plants[a.area]||[];case"product":return a.plant&&R.products[a.plant]||[];default:return[]}};return(0,t.jsx)(S.Zp,{className:"mb-6",children:(0,t.jsxs)(S.Wu,{className:"p-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(F.A,{className:"w-4 h-4 text-primary"}),(0,t.jsx)("label",{className:"text-sm font-medium",children:"City"})]}),(0,t.jsxs)(W.l6,{value:a.city||"",onValueChange:e=>n("city",e),children:[(0,t.jsx)(W.bq,{children:(0,t.jsx)(W.yv,{placeholder:"Select City"})}),(0,t.jsx)(W.gC,{children:i("city").map(e=>(0,t.jsx)(W.eb,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(z.A,{className:"w-4 h-4 text-primary"}),(0,t.jsx)("label",{className:"text-sm font-medium",children:"Area"})]}),(0,t.jsxs)(W.l6,{value:a.area||"",onValueChange:e=>n("area",e),disabled:!a.city,children:[(0,t.jsx)(W.bq,{children:(0,t.jsx)(W.yv,{placeholder:"Select Area"})}),(0,t.jsx)(W.gC,{children:i("area").map(e=>(0,t.jsx)(W.eb,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(E.A,{className:"w-4 h-4 text-primary"}),(0,t.jsx)("label",{className:"text-sm font-medium",children:"Plant"})]}),(0,t.jsxs)(W.l6,{value:a.plant||"",onValueChange:e=>n("plant",e),disabled:!a.area,children:[(0,t.jsx)(W.bq,{children:(0,t.jsx)(W.yv,{placeholder:"Select Plant"})}),(0,t.jsx)(W.gC,{children:i("plant").map(e=>(0,t.jsx)(W.eb,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(L.A,{className:"w-4 h-4 text-primary"}),(0,t.jsx)("label",{className:"text-sm font-medium",children:"Product"})]}),(0,t.jsxs)(W.l6,{value:a.product||"",onValueChange:e=>n("product",e),disabled:!a.plant,children:[(0,t.jsx)(W.bq,{children:(0,t.jsx)(W.yv,{placeholder:"Select Product"})}),(0,t.jsx)(W.gC,{children:i("product").map(e=>(0,t.jsx)(W.eb,{value:e,children:e},e))})]})]})]}),Object.values(a).some(e=>e)&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Current Selection:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.city&&(0,t.jsx)(C.E,{variant:"secondary",children:a.city}),a.area&&(0,t.jsx)(C.E,{variant:"secondary",children:a.area}),a.plant&&(0,t.jsx)(C.E,{variant:"secondary",children:a.plant}),a.product&&(0,t.jsx)(C.E,{variant:"secondary",children:a.product})]})]})]})})},I={headers:["Total","Average","1-Aug","2-Aug","3-Aug","4-Aug","5-Aug","6-Aug","7-Aug","8-Aug","9-Aug","10-Aug","11-Aug","12-Aug","13-Aug","14-Aug","15-Aug","16-Aug","17-Aug","18-Aug","19-Aug","20-Aug","21-Aug","22-Aug","23-Aug","24-Aug","25-Aug","26-Aug","27-Aug","28-Aug","29-Aug","30-Aug","31-Aug"],rows:[{label:"Manpower",values:[5565,179.5,197,165,188,195,198,189,203,175,156,187,194,201,188,179,203,191,185,174,192,198,205,182,169,195,188,201,176,194,187,203,185],total:5565,average:179.5},{label:"Indexed Capacity (at 100%)",values:[21897,706.4,705,690,725,748,715,695,738,701,689,726,742,719,698,734,708,693,741,705,720,695,738,704,691,729,715,702,736,708,694,731,720],total:21897,average:706.4},{label:"Indexed Capacity (with Actual Absenteeism)",values:[19765,637.6,638,622,654,675,645,627,666,632,621,655,669,648,630,662,638,625,668,636,649,627,666,635,623,658,645,634,664,638,626,660,649],total:19765,average:637.6},{label:"Index - FG completion",values:[91.5,91.5,90.5,90.1,90.2,90.3,90.2,90.2,90.2,89.9,90.1,90.2,90.3,90.2,90.1,90.2,90.2,90.1,90.2,90.1,90.2,90.2,90.2,90.1,90,90.2,90.1,90.2,90.1,90.2,90.1,90.2,90.2],total:91.5,average:91.5},{label:"Absenteeism (%)",values:[9.7,9.7,9.5,9.9,9.8,9.8,9.8,9.8,9.8,9.8,9.9,9.8,9.7,9.8,9.9,9.8,9.8,9.9,9.8,9.9,9.8,9.8,9.8,9.9,10,9.8,9.9,9.8,9.9,9.8,9.9,9.8,9.8],total:9.7,average:9.7},{label:"% Capacity Utilization with Absenteeism",values:[97.4,97.4,97.2,97.3,97.3,97.4,97.3,97.3,97.3,97.1,97.3,97.3,97.4,97.3,97.2,97.3,97.3,97.2,97.3,97.2,97.3,97.3,97.3,97.2,97.1,97.3,97.2,97.3,97.2,97.3,97.2,97.3,97.3],total:97.4,average:97.4}]},Z=e=>{let{title:s,data:a}=e;return(0,t.jsxs)(S.Zp,{className:"mb-6",children:[(0,t.jsx)(S.aR,{children:(0,t.jsx)(S.ZB,{className:"text-xl font-bold text-foreground",children:s})}),(0,t.jsxs)(S.Wu,{children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"corporate-table w-full text-xs",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"min-w-[200px] sticky left-0 bg-table-header z-10",children:"Item"}),a.headers.map((e,s)=>(0,t.jsx)("th",{className:"min-w-[60px] text-center",children:e},s))]})}),(0,t.jsx)("tbody",{children:a.rows.map((e,s)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"font-medium sticky left-0 bg-card z-10 border-r-2",children:e.label}),e.values.map((s,a)=>{let r="string"==typeof s?parseFloat(s):s,l=isNaN(r)?"":((e,s)=>s.includes("Capacity Utilization")||s.includes("completion")?e>=95?"status-excellent":e>=90?"status-good":e>=85?"status-average":"status-poor":s.includes("Absenteeism")?e<=5?"status-excellent":e<=8?"status-good":e<=12?"status-average":"status-poor":"")(r,e.label);return(0,t.jsx)("td",{className:"text-center ".concat(l," ").concat(a<2?"font-semibold":""),children:"number"==typeof s?s%1==0?s.toString():s.toFixed(1):s},a)})]},s))})]})}),(0,t.jsx)("div",{className:"mt-4 text-xs text-muted-foreground",children:(0,t.jsxs)("p",{children:["Color coding:",(0,t.jsx)(C.E,{className:"ml-2 status-excellent",children:"Excellent (≥95%)"}),(0,t.jsx)(C.E,{className:"ml-1 status-good",children:"Good (90-94%)"}),(0,t.jsx)(C.E,{className:"ml-1 status-average",children:"Average (85-89%)"}),(0,t.jsx)(C.E,{className:"ml-1 status-poor",children:"Poor (<85%)"})]})})]})]})};var B=a(26991),G=a(62237),T=a(68425),K=a(47734),M=a(73697),H=a(23508),U=a(7620),V=a(48716),O=a(16533),_=a(47643),q=a(98128),J=a(80019);let X=[{name:"1-Sep",indexFGCompletion:1982,capacityAt100:2712,capacityWithAbs:2450,percentage:85},{name:"2-Sep",indexFGCompletion:2687,capacityAt100:2687,capacityWithAbs:2423,percentage:119},{name:"3-Sep",indexFGCompletion:2687,capacityAt100:2687,capacityWithAbs:2448,percentage:102},{name:"4-Sep",indexFGCompletion:2687,capacityAt100:2687,capacityWithAbs:2487,percentage:118},{name:"5-Sep",indexFGCompletion:2687,capacityAt100:2687,capacityWithAbs:2523,percentage:131},{name:"6-Sep",indexFGCompletion:2661,capacityAt100:2661,capacityWithAbs:2537,percentage:128},{name:"7-Sep",indexFGCompletion:2661,capacityAt100:2661,capacityWithAbs:2549,percentage:106},{name:"8-Sep",indexFGCompletion:2661,capacityAt100:2661,capacityWithAbs:2577,percentage:123},{name:"9-Sep",indexFGCompletion:2661,capacityAt100:2661,capacityWithAbs:2603,percentage:98}],$=e=>{let{active:s,payload:a,label:r}=e;return s&&a&&a.length?(0,t.jsxs)("div",{className:"bg-card border border-border rounded-lg shadow-lg p-3",children:[(0,t.jsx)("p",{className:"font-medium text-foreground",children:"Date: ".concat(r)}),a.map((e,s)=>(0,t.jsx)("p",{style:{color:e.color},className:"text-sm",children:"".concat(e.dataKey,": ").concat(e.value)},s))]}):null},Y=e=>{let{title:s,data:a,type:r="bar",showLegend:l=!0}=e;return(0,t.jsxs)(S.Zp,{className:"mb-6",children:[(0,t.jsx)(S.aR,{children:(0,t.jsx)(S.ZB,{className:"text-xl font-bold text-foreground",children:s})}),(0,t.jsx)(S.Wu,{children:(0,t.jsx)("div",{className:"h-[650px] w-full",children:(0,t.jsx)(B.u,{width:"100%",height:"100%",children:"combo"===r?(0,t.jsxs)(G.X,{data:a,margin:{top:120,right:50,left:20,bottom:60},children:[(0,t.jsx)(T.d,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),(0,t.jsx)(K.W,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",fontSize:11,tickLine:!1,axisLine:!1,angle:-45,textAnchor:"end",height:60}),(0,t.jsx)(M.h,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,domain:[0,3500]}),(0,t.jsx)(M.h,{yAxisId:"right",orientation:"right",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,domain:[0,150],tickFormatter:e=>"".concat(e,"%")}),(0,t.jsx)(H.m,{content:(0,t.jsx)($,{})}),(0,t.jsx)(U.s,{verticalAlign:"top",align:"right",height:60,iconType:"rect",wrapperStyle:{paddingTop:"10px",fontSize:"12px"}}),(0,t.jsx)(V.e,{y:2500,stroke:"hsl(var(--muted-foreground))",strokeDasharray:"5 5",strokeWidth:1}),(0,t.jsx)(O.y,{dataKey:"indexFGCompletion",name:"Index_FG completion",fill:"hsl(var(--chart-primary))",radius:[4,4,0,0]}),(0,t.jsx)(_.N,{type:"monotone",dataKey:"capacityAt100",name:"Indexed Capacity (at 100%)",stroke:"hsl(var(--foreground))",strokeWidth:2,strokeDasharray:"5 5",dot:{r:4,fill:"hsl(var(--foreground))",strokeWidth:2,stroke:"white"}}),(0,t.jsx)(_.N,{type:"monotone",dataKey:"capacityWithAbs",name:"Indexed Capacity (with Actual Absenteeism)",stroke:"hsl(var(--destructive))",strokeWidth:2,strokeDasharray:"5 5",dot:{r:4,fill:"hsl(var(--destructive))",strokeWidth:2,stroke:"white"}}),(0,t.jsx)(_.N,{type:"monotone",dataKey:"percentage",name:"% Capacity Utilization with Absenteeism",stroke:"hsl(var(--chart-accent))",strokeWidth:2.5,dot:{r:5,fill:"hsl(var(--chart-accent))",strokeWidth:2,stroke:"white"},yAxisId:"right"})]}):"bar"===r?(0,t.jsxs)(q.E,{data:a,margin:{top:20,right:30,left:20,bottom:5},children:[(0,t.jsx)(T.d,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),(0,t.jsx)(K.W,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),(0,t.jsx)(M.h,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),(0,t.jsx)(H.m,{content:(0,t.jsx)($,{})}),l&&(0,t.jsx)(U.s,{wrapperStyle:{paddingTop:"20px"},iconType:"rect"}),(0,t.jsx)(O.y,{dataKey:"indexCompletion",name:"Index_FG completion",fill:"hsl(var(--chart-primary))",radius:[2,2,0,0]}),(0,t.jsx)(O.y,{dataKey:"indexedCapacity",name:"Indexed Capacity (at 100%)",fill:"hsl(var(--chart-secondary))",radius:[2,2,0,0]}),(0,t.jsx)(O.y,{dataKey:"actualCapacity",name:"Indexed Capacity (with Abs)",fill:"hsl(var(--chart-tertiary))",radius:[2,2,0,0]})]}):(0,t.jsxs)(J.b,{data:a,margin:{top:20,right:30,left:20,bottom:5},children:[(0,t.jsx)(T.d,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),(0,t.jsx)(K.W,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),(0,t.jsx)(M.h,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),(0,t.jsx)(H.m,{content:(0,t.jsx)($,{})}),l&&(0,t.jsx)(U.s,{wrapperStyle:{paddingTop:"20px"},iconType:"line"}),(0,t.jsx)(_.N,{type:"monotone",dataKey:"indexCompletion",name:"Index_FG completion",stroke:"hsl(var(--chart-primary))",strokeWidth:2,dot:{r:3}}),(0,t.jsx)(_.N,{type:"monotone",dataKey:"indexedCapacity",name:"Indexed Capacity (at 100%)",stroke:"hsl(var(--chart-secondary))",strokeWidth:2,dot:{r:3}}),(0,t.jsx)(_.N,{type:"monotone",dataKey:"actualCapacity",name:"Indexed Capacity (with Abs)",stroke:"hsl(var(--chart-tertiary))",strokeWidth:2,dot:{r:3}})]})})})})]})};var Q=a(65142),ee=a(76444),es=a(9484);let ea=r.forwardRef((e,s)=>{let{className:a,value:r,...l}=e;return(0,t.jsx)(es.bL,{ref:s,className:(0,g.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...l,children:(0,t.jsx)(es.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});ea.displayName=es.bL.displayName;var et=a(42529),er=a(6132),el=a(89715),en=a(21786),ei=a(65229),ec=a(15894);let ed=e=>{let{onUploadComplete:s}=e,[a,n]=(0,r.useState)([]),[i,c]=(0,r.useState)(""),[d,o]=(0,r.useState)(""),[m,x]=(0,r.useState)(!1),{toast:p}=(0,ec.dj)(),h=(0,r.useCallback)(e=>{if(!i||!d)return void p({title:"Missing Information",description:"Please select report type and plant before uploading",variant:"destructive"});let s=e.map(e=>({id:Math.random().toString(36).substr(2,9),name:e.name,size:e.size,status:"uploading",progress:0,type:i}));n(e=>[...e,...s]),s.forEach((e,s)=>{let a=setInterval(()=>{n(s=>s.map(s=>s.id===e.id?{...s,progress:Math.min(s.progress+10,100)}:s))},200);setTimeout(()=>{clearInterval(a),n(s=>s.map(s=>s.id===e.id?{...s,status:"processing",progress:0}:s));let t=setInterval(()=>{n(s=>s.map(s=>s.id===e.id?{...s,progress:Math.min(s.progress+15,100)}:s))},300);setTimeout(()=>{clearInterval(t),n(s=>s.map(s=>s.id===e.id?{...s,status:"completed",progress:100}:s)),p({title:"File Processed",description:"".concat(e.name," has been successfully processed")})},2e3+500*s)},2e3+500*s)})},[i,d,p]),u=(0,r.useCallback)(e=>{e.preventDefault(),x(!0)},[]),j=(0,r.useCallback)(e=>{e.preventDefault(),x(!1)},[]),f=(0,r.useCallback)(e=>{e.preventDefault(),x(!1),h(Array.from(e.dataTransfer.files))},[h]);return(0,t.jsxs)(S.Zp,{children:[(0,t.jsx)(S.aR,{children:(0,t.jsxs)(S.ZB,{className:"flex items-center space-x-2",children:[(0,t.jsx)(en.A,{className:"w-5 h-5 text-primary"}),(0,t.jsx)("span",{children:"Report Upload"})]})}),(0,t.jsxs)(S.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee.J,{children:"Report Type"}),(0,t.jsxs)(W.l6,{value:i,onValueChange:c,children:[(0,t.jsx)(W.bq,{children:(0,t.jsx)(W.yv,{placeholder:"Select report type"})}),(0,t.jsxs)(W.gC,{children:[(0,t.jsx)(W.eb,{value:"daily",children:"Daily Progress Report"}),(0,t.jsx)(W.eb,{value:"weekly",children:"Weekly Summary"}),(0,t.jsx)(W.eb,{value:"monthly",children:"Monthly Report"}),(0,t.jsx)(W.eb,{value:"production",children:"Production Report"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(ee.J,{children:"Plant"}),(0,t.jsxs)(W.l6,{value:d,onValueChange:o,children:[(0,t.jsx)(W.bq,{children:(0,t.jsx)(W.yv,{placeholder:"Select plant"})}),(0,t.jsxs)(W.gC,{children:[(0,t.jsx)(W.eb,{value:"plant-a1",children:"Plant A1 - Mumbai"}),(0,t.jsx)(W.eb,{value:"plant-a2",children:"Plant A2 - Mumbai"}),(0,t.jsx)(W.eb,{value:"plant-b1",children:"Plant B1 - Pune"}),(0,t.jsx)(W.eb,{value:"plant-h1",children:"Plant H1 - Chennai"})]})]})]})]}),(0,t.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors\n            ".concat(m?"border-primary bg-primary/10":"border-border hover:border-primary/50"),onDragOver:u,onDragLeave:j,onDrop:f,children:[(0,t.jsx)(en.A,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Drop files here or click to browse"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"Supports PDF, Excel, CSV, and image files up to 10MB each"}),(0,t.jsx)(Q.p,{type:"file",multiple:!0,accept:".pdf,.xlsx,.xls,.csv,.jpg,.jpeg,.png",onChange:e=>{e.target.files&&h(Array.from(e.target.files))},className:"hidden",id:"file-upload"}),(0,t.jsx)(l.$,{asChild:!0,children:(0,t.jsx)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:"Choose Files"})})]}),a.length>0&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Uploaded Files"}),a.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[(e=>{switch(e){case"uploading":case"processing":return(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"});case"completed":return(0,t.jsx)(et.A,{className:"w-4 h-4 text-success"});case"error":return(0,t.jsx)(er.A,{className:"w-4 h-4 text-destructive"});default:return(0,t.jsx)(el.A,{className:"w-4 h-4"})}})(e.status),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 mt-1",children:[(0,t.jsx)(C.E,{variant:"secondary",className:"text-xs",children:e.type}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[(e.size/1024/1024).toFixed(1)," MB"]}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:(e=>{switch(e){case"uploading":return"Uploading...";case"processing":return"Processing...";case"completed":return"Completed";case"error":return"Error";default:return"Pending"}})(e.status)})]}),("uploading"===e.status||"processing"===e.status)&&(0,t.jsx)(ea,{value:e.progress,className:"mt-2 h-1"})]}),(0,t.jsx)(l.$,{variant:"ghost",size:"icon",onClick:()=>{var s;return s=e.id,void n(e=>e.filter(e=>e.id!==s))},className:"text-muted-foreground hover:text-destructive",children:(0,t.jsx)(ei.A,{className:"w-4 h-4"})})]},e.id))]})]})]})};var eo=a(13406),em=a(30814),ex=a(91169),ep=a(52056),eh=a(26983),eu=a(26921),ej=a(50906);let ef=()=>{let[e,s]=(0,r.useState)(null),{user:a}=(0,P.A)(),l=[{title:"Overall Completion",value:"94.2%",change:"+2.3%",trend:"up",icon:em.A,color:"text-success"},{title:"Active Plants",value:"15",change:"+1",trend:"up",icon:E.A,color:"text-primary"},{title:"Total Workforce",value:"5,565",change:"+125",trend:"up",icon:ex.A,color:"text-primary"},{title:"Avg. Absenteeism",value:"9.7%",change:"-0.8%",trend:"down",icon:ep.A,color:"text-warning"}];return(0,t.jsx)(k,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Work Order Dashboard"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Monitor daily progress across all plants and products"})]}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)(C.E,{variant:"outline",className:"px-3 py-1",children:[(0,t.jsx)(eh.A,{className:"w-4 h-4 mr-1"}),"Last Updated: ",new Date().toLocaleTimeString()]})})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((e,s)=>(0,t.jsx)(S.Zp,{children:(0,t.jsx)(S.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:e.value}),(0,t.jsxs)("div",{className:"flex items-center space-x-1 ".concat("up"===e.trend?"text-success":"text-destructive"),children:["up"===e.trend?(0,t.jsx)(i.A,{className:"w-4 h-4"}):(0,t.jsx)(eu.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.change})]})]})]}),(0,t.jsx)("div",{className:"p-3 rounded-full bg-muted ".concat(e.color),children:(0,t.jsx)(e.icon,{className:"w-6 h-6"})})]})})},s))}),(0,t.jsx)(D,{onSelectionChange:e=>{s(e)}}),(0,t.jsxs)(eo.tU,{defaultValue:"overview",className:"space-y-6",children:[(0,t.jsxs)(eo.j7,{className:"grid w-full grid-cols-3",children:[(0,t.jsx)(eo.Xi,{value:"overview",children:"Overview"}),(0,t.jsx)(eo.Xi,{value:"reports",disabled:(null==a?void 0:a.role)!=="manager",children:"Upload Reports"}),(0,t.jsx)(eo.Xi,{value:"analytics",children:"Analytics"})]}),(0,t.jsx)(eo.av,{value:"overview",className:"space-y-6",children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(S.Zp,{children:[(0,t.jsx)(S.aR,{children:(0,t.jsx)(S.ZB,{children:"Current Selection"})}),(0,t.jsx)(S.Wu,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"City"}),(0,t.jsx)("p",{className:"font-semibold",children:e.city})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Area"}),(0,t.jsx)("p",{className:"font-semibold",children:e.area})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Plant"}),(0,t.jsx)("p",{className:"font-semibold",children:e.plant})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Product"}),(0,t.jsx)("p",{className:"font-semibold",children:e.product})]})]})})]}),(0,t.jsx)(Z,{title:"".concat(e.plant," - ").concat(e.product," - August 2025"),data:I}),(0,t.jsx)(Y,{title:"".concat(e.product," Total - September 2025"),data:X,type:"combo"})]}):(0,t.jsx)(S.Zp,{children:(0,t.jsxs)(S.Wu,{className:"p-12 text-center",children:[(0,t.jsx)(ej.A,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Select Hierarchy"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Please select City → Area → Plant → Product to view detailed data"})]})})}),(0,t.jsx)(eo.av,{value:"reports",className:"space-y-6",children:(null==a?void 0:a.role)==="manager"?(0,t.jsx)(ed,{onUploadComplete:e=>console.log("Upload complete:",e)}):(0,t.jsx)(S.Zp,{children:(0,t.jsxs)(S.Wu,{className:"p-12 text-center",children:[(0,t.jsx)(ep.A,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Access Restricted"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Only Managers can upload reports. Please contact your administrator."})]})})}),(0,t.jsx)(eo.av,{value:"analytics",className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(S.Zp,{children:[(0,t.jsx)(S.aR,{children:(0,t.jsx)(S.ZB,{children:"Performance Trends"})}),(0,t.jsx)(S.Wu,{children:(0,t.jsx)(Y,{title:"Monthly Comparison",data:X.slice(0,12),type:"line",showLegend:!1})})]}),(0,t.jsxs)(S.Zp,{children:[(0,t.jsx)(S.aR,{children:(0,t.jsx)(S.ZB,{children:"Plant Efficiency"})}),(0,t.jsx)(S.Wu,{children:(0,t.jsx)("div",{className:"space-y-4",children:[{plant:"Plant A1",efficiency:96.2,change:"+1.2%"},{plant:"Plant A2",efficiency:94.8,change:"+0.8%"},{plant:"Plant B1",efficiency:93.5,change:"-0.3%"},{plant:"Plant H1",efficiency:95.1,change:"+2.1%"}].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.plant}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.efficiency,"% Efficient"]})]}),(0,t.jsx)(C.E,{variant:e.change.startsWith("+")?"default":"destructive",className:"bg-success text-success-foreground",children:e.change})]},s))})})]})]})})]})]})})}}},e=>{e.O(0,[279,341,673,654,903,441,255,358],()=>e(e.s=10540)),_N_E=e.O()}]);